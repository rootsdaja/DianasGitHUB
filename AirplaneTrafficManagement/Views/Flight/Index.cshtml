@model IEnumerable<AirplaneTrafficManagement.Database.Flight>

@{
    ViewBag.Title = "Flights Search Page";
}

<hgroup class="title">
    <h1>@ViewBag.Title.</h1>
    <h2>Display all the flights.</h2>
</hgroup>
<div class="navbar-collapse collapse">
    <ul class="nav navbar-nav">
        <li>@Html.ActionLink("Display Airlines", "Index", "Airline")</li>
        <li>@Html.ActionLink("Display Airports", "Index", "Airport")</li>
        <li>@Html.ActionLink("Display Clients", "Index", "Client")</li>
    </ul>
</div>

        @*@using (Html.BeginForm("SearchMovie", "Movie"))
            {
                @Html.AntiForgeryToken()
                @Html.ValidationSummary()

                <fieldset>
                    <legend>Search</legend>

                    <p>Movie type</p>

                    <p>
                        @Html.DropDownListFor(model => model.genre, new List<SelectListItem>{
                                new SelectListItem{ Text="Select", Value =   "0"},
                                new SelectListItem{ Text="Action", Value = "Action" },
                                new SelectListItem{ Text="Comedy", Value = "Comedy"},
                                new SelectListItem{ Text="Fantasy", Value = "Fantasy"},
                                new SelectListItem{ Text="Science-Fiction", Value = "Science-Fiction"},
                                new SelectListItem{ Text="Drama", Value = "Drama"},
                                new SelectListItem{ Text="Horror", Value = "Horror"},
                                new SelectListItem{ Text="Psychological", Value = "Psychological"}
                             })
                </p>
                <ol>
                    <li>
                        @Html.LabelFor(p => p._searchValue)
                        @Html.TextBoxFor(p => p._searchValue, new { id = "_searchValue" })
                    </li>
                </ol>

                <input type="submit" value="Search" />

                <button id="button" value="submit" onclick="ajaxCall();return false">Count </button>
            </fieldset>
                <div id="divNoOfMovies"></div>*@


   <table class="table table-bordered table-hover">
    <tr>
        <th><b>Id Flight</b></th>
        <th><b>Depart Airport Location</b></th>
        <th><b>Arrival Airport Location</b></th>
        <th><b>Depart On</b></th>
        <th><b>Return On</b></th>
        <th><b>Options</b></th>
    </tr>

    @foreach (AirplaneTrafficManagement.Database.Flight item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(model => item.idFlight)
            </td>
            <td>
                @Html.DisplayFor(model => item.Departure.airportName)
            </td>
            <td>
                @Html.DisplayFor(model => item.Arrival.airportName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.departOn)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.returnOn)
            </td>
          
            <td>
                @*@{var session = new Common.WebSessionContext();
                    }

                    @if (session.Admin == true)
                    {*@
               @Html.ActionLink("Edit", "EditFlight", "Flight", new { id = item.idFlight }, null) |
               @Html.ActionLink("Delete", "DeleteFlight", "Flight", new { id = item.idFlight }, null) |
               @Html.ActionLink("Add", "CreateFlight", "Flight", null) 

                @*<p>@Html.ActionLink("Movie Details", "movieDetail", "Flight", new { id_detail = item.idFlight }, null)</p>*@
                @*}

                    else
                    {*@
                @*@Html.ActionLink("Flight Details", "movieDetail", "Flight", new { id_detail = item.idFlight }, null)
                    <p>@Html.ActionLink("Reserve Ticket", "CreateTicket", "Flight", new { id = item.idFlight }, null)  </p>*@
                @*}*@
            </td>
        </tr>
    }
</table>











